<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FloorplanToBlender3d: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FloorplanToBlender3d
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>Table of Contents</b> (click to expand)</p>
<p align="center"></p>
<p><img src="Images/logo.png" alt="" width="460" height="300" class="inline"/> </p>
<p><img src="https://img.shields.io/github/license/grebtsew/FloorplanToBlender3d" alt="license" class="inline"/> <img src="https://img.shields.io/badge/dockerhub-active-green" alt="dockerhub" class="inline"/> <img src="https://img.shields.io/github/repo-size/grebtsew/FloorplanToBlender3d" alt="size" class="inline"/> <img src="https://img.shields.io/github/watchers/grebtsew/FloorplanToBlender3d?style=social" alt="watcher" class="inline"/> <img src="https://img.shields.io/github/last-commit/grebtsew/FloorplanToBlender3d" alt="commit" class="inline"/></p>
<p><img src="Images/powerpoint.gif" alt="Demo" class="inline"/></p>
<p>&lt;details&gt;</p>
<ul>
<li><a href="#about">About</a></li>
<li><a href="#how-to">How-To</a><ul>
<li><a href="#run-on-docker">Run on Docker</a></li>
<li><a href="#run-locally-on-os">Run locally on OS</a><ul>
<li><a href="#run-tutorial">Run Tutorial</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#demos">Demos</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#testing">Testing</a></li>
<li><a href="#References-and-Imports">References and Imports</a></li>
<li><a href="#contribute">Contribute</a></li>
<li><a href="#Known-Issues">Known Issues</a></li>
<li><a href="#license">License</a></li>
</ul>
<p>&lt;/details&gt;</p>
<h1><a class="anchor" id="autotoc_md0"></a>
About</h1>
<p>The virtualisation of real life objects has been a hot topic for several years. As I started learning about 3d modelling in <a href="https://www.blender.org/">Blender3d</a> I thought of the idea to use simple imaging on floorplans to automatically create corresponding 3d models. It is much easier than it sounds and uses a low amount of resources, enabling it to be used on low hardware. By utilizing Blender3d, all created objects will be easy to transfer to any other 3d rendering program. Such as <a href="https://unity.com/">Unity</a>, <a href="https://www.unrealengine.com/en-US/">Unreal Engine</a> or <a href="https://www.autodesk.com/solutions/cad-software">CAD</a>.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
How-To</h1>
<p>This part contains information about how to setup and execute this program.</p>
<p><span style="color:yellow"><b>NOTE</b></span> : Using other versions of the required programs and libraries than specified in Dockerfiles might require changes in the implementation. It is only guaranteed that this implementation will work if the assigned versions and all requirements are met.</p>
<p><span style="color:yellow"><b>NOTE</b></span> : To avoid any version related problems use the Docker implementation.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Run on Docker</h2>
<p>Firstly you need to install a suitable <a href="https://www.docker.com/">Docker</a> environment on your device. This project contains a <code>DockerFile</code> which uses the <code>Ubuntu 18.04</code> image so make sure your docker environment is set to linux containers.</p>
<p>This project is linked to <a href="https://hub.docker.com/r/grebtsew/floorplan-to-blender">Docker Hub</a> which means a maintained and prebuilt container can be pulled directly by running:</p>
<div class="fragment"><div class="line">docker pull grebtsew/floorplan-to-blender</div>
<div class="line"># run the container:</div>
<div class="line">docker run -it grebtsew/floorplan-to-blender</div>
</div><!-- fragment --><p><span style="color:blue"><b>NOTE</b></span> : For more information about how the dockerfile and docker-compose files can be used to build and run the image to add your own content read more here.</p>
<p>To pull and run the container together in a one line command run: </p><div class="fragment"><div class="line">docker-compose run ftb</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md3"></a>
Run locally on OS</h2>
<p>This tutorial will describe how to install this implementation directly on your device. If you are a <code>Linux/Ubuntu</code> user, look at <code>Dockerfile</code> for better instructions.</p>
<p>These are the programs that are required to run this implementation.</p>
<ul>
<li><a href="https://www.blender.org/">Blender3d &gt; 2.82</a></li>
<li><code>Python &gt;== 3.6.5</code></li>
</ul>
<p>With a suiteable <code>blender</code>, <code>python</code> and <code>python pip</code> installed you can have <code>Python3 pip</code> install all required packages by running:</p>
<div class="fragment"><div class="line">pip install -r requirements.txt</div>
</div><!-- fragment --><p>Clone or download this repo: </p><div class="fragment"><div class="line">git clone https://github.com/grebtsew/FloorplanToBlender3d.git</div>
<div class="line">````</div>
<div class="line"> </div>
<div class="line">### Run Tutorial</div>
<div class="line">This tutorial takes you through the execution of this program.</div>
<div class="line"> </div>
<div class="line">1. Receive floorplan as image, from pdf or by using other method (for example paint)</div>
<div class="line">2. Run python script `create_blender_project_from_floorplan.py`</div>
<div class="line">3. Follow instructions</div>
<div class="line">4. Created `floorplan.blender` files will be saved under `./target`</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">&lt;span style=&quot;color:blue&quot;&gt;**NOTE**&lt;/span&gt;</div>
<div class="line">: For more information about alternative ways of executing the implementation read more [here](./Docs/README.md).</div>
<div class="line"> </div>
<div class="line"># Demos</div>
<div class="line"> </div>
<div class="line">## Create Floorplan in Blender3d</div>
<div class="line">Here we demo the program. First of we need a floorplan image to process.</div>
<div class="line">We use `example.png`, see below:</div>
<div class="line">![Floorplanexample](Images/example.png)</div>
<div class="line"> </div>
<div class="line">Next up we execute our script and answer the questions:</div>
<div class="line">![gif1](Images/demo1.gif)</div>
<div class="line"> </div>
<div class="line">Finally we can open the newly created floorplan.blender file and see the result:</div>
<div class="line">![gif2](Images/demo2.gif)</div>
<div class="line"> </div>
<div class="line">&lt;span style=&quot;color:blue&quot;&gt;**NOTE**&lt;/span&gt;: This demo only uses default settings. For instance coloring is by default random.</div>
<div class="line"> </div>
<div class="line"># Documentation</div>
<div class="line">For more information and tutorial of how to use the ftb library do checkout [docs](Docs/README.md)!</div>
<div class="line"> </div>
<div class="line"># Testing</div>
<div class="line">Vital and core functionality are tested with pytest. To run tests yourself enter `Testing`-folder and run:</div>
<div class="line">```cmd</div>
<div class="line">pytest</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md4"></a>
References and Imports</h1>
<p>During the development of this project I have been searching alot and copied code from <code>StackOverflow</code>. I share links to copied code and other contributors here:</p>
<ul>
<li>First look at problem : <a href="https://mathematica.stackexchange.com/questions/19546/image-processing-floor-plan-detecting-rooms-borders-area-and-room-names-t">https://mathematica.stackexchange.com/questions/19546/image-processing-floor-plan-detecting-rooms-borders-area-and-room-names-t</a></li>
<li>Room detection : <a href="https://stackoverflow.com/questions/54274610/crop-each-of-them-using-opencv-python">https://stackoverflow.com/questions/54274610/crop-each-of-them-using-opencv-python</a></li>
<li>Watershed : <a href="https://docs.opencv.org/3.1.0/d3/db4/tutorial_py_watershed.html">https://docs.opencv.org/3.1.0/d3/db4/tutorial_py_watershed.html</a></li>
<li>Shape detection : <a href="https://docs.opencv.org/3.0-beta/doc/py_tutorials/py_feature2d/py_features_harris/py_features_harris.html">https://docs.opencv.org/3.0-beta/doc/py_tutorials/py_feature2d/py_features_harris/py_features_harris.html</a></li>
<li>Distance in image : <a href="https://stackoverflow.com/questions/50930033/drawing-lines-and-distance-to-them-on-image-opencv-python">https://stackoverflow.com/questions/50930033/drawing-lines-and-distance-to-them-on-image-opencv-python</a></li>
<li>Rect contain : <a href="https://stackoverflow.com/questions/33065834/how-to-detect-if-a-point-is-contained-within-a-bounding-rect-opecv-python">https://stackoverflow.com/questions/33065834/how-to-detect-if-a-point-is-contained-within-a-bounding-rect-opecv-python</a></li>
<li>Line detection : <a href="https://docs.opencv.org/3.0-beta/doc/py_tutorials/py_imgproc/py_houghlines/py_houghlines.html">https://docs.opencv.org/3.0-beta/doc/py_tutorials/py_imgproc/py_houghlines/py_houghlines.html</a></li>
<li>Readme tips: <a href="https://github.com/matiassingers/awesome-readme">https://github.com/matiassingers/awesome-readme</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md5"></a>
Contribute</h1>
<p>Let me know if you want to contribute to this project, also if you want me to add more functions or answer questions, let me know!</p>
<h1><a class="anchor" id="autotoc_md6"></a>
Known Issues</h1>
<p>These are some known and relevant issues with the current implementation:</p><ul>
<li>Floorplan images needs to be quite small for detections to work at this time. If you plan on using a large image, consider downscaling it.</li>
<li>Required programs and libraries might change in future versions, this might require some changes in this implementation for it to work. If you insist on not using the versions specified in Dockerfile, a coding effort might be required.</li>
</ul>
<h1><a class="anchor" id="autotoc_md7"></a>
License</h1>
<p>[GNU GENERAL PUBLIC LICENSE](license) Version 3, 29 June 2007</p>
<p>COPYRIGHT @ Grebtsew 2019 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
